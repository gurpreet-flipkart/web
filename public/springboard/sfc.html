<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Service Fulfillment Cockpit (MH View)</title>
    <!-- Bootstrap -->
    <!--<link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script src="jquery.stickytableheaders.js"></script>
    <link rel="stylesheet" href="mystyle.css">
    <script src="Table.js"></script>


    <!-- Material Design fonts -->
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Roboto:300,400,500,700">
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/icon?family=Material+Icons">

    <!-- Bootstrap -->
    <link rel="stylesheet" type="text/css" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">

    <!-- Bootstrap Material Design -->
    <link rel="stylesheet" type="text/css" href="dist/css/bootstrap-material-design.css">
    <link rel="stylesheet" type="text/css" href="dist/css/ripples.min.css">
    <!--<link rel="stylesheet" type="text/css" href="jquery.dropdown.css">-->

    <script src="dist/js/material.min.js"></script>
    <script src="dist/js/ripples.min.js"></script>
    <!--<script src="jquery.dropdown.js"></script>-->


</head>

<body>
    <div class="controls panel panel-primary">
        <div class="stick panel-heading">SFC Filters</div>
        <div class="panel-body">
            <div class="btn-group">
                <a href="javascript:void(0)" class="btn btn-default btn-raised">Criteria 1</a>
                <a href="#" data-target="#" class="btn btn-default btn-raised dropdown-toggle" data-toggle="dropdown"><span class="caret"></span></a>
                <ul class="dropdown-menu">
                    <li><a href="javascript:void(0)">Action</a></li>
                    <li><a href="javascript:void(0)">Another action</a></li>
                    <li><a href="javascript:void(0)">Something else here</a></li>
                    <li class="divider"></li>
                    <li><a href="javascript:void(0)">Separated link</a></li>
                </ul>
            </div>
            <div class="togglebutton">
                <label>
                    <input type="checkbox" checked> Toggle
                </label>
            </div>

            <div class="form-group">
                <label for="select111" class="col-md-2 control-label">Select</label>

                <div class="col-md-10">
                    <select id="select111" class="form-control">
                        <option>CPD+1</option>
                        <option>CPD+2</option>
                        <option>CPD+3</option>
                    </select>
                </div>
            </div>
        </div>
    </div>
    <div class="info panel panel-primary">
        <div class="panel-heading">SFC Filters</div>
        <div class="panel-body">
            <table class="table">
                <thead></thead>
                <tbody></tbody>
            </table>
        </div>

        <script>
            $(document).ready(function() {
                $.material.init();
                $.material.checkbox();
            });

            function Set() {
                'use strict';
                var map = new Object();
                this.list = [];
                this.add = function(element) {
                    //console.log(element);
                    if (!map[element]) {
                        this.list.push(element);
                        map[element] = true;
                    }
                }
            }

            function shuffle(array) {
                var currentIndex = array.length,
                    temporaryValue, randomIndex;

                // While there remain elements to shuffle...
                while (0 !== currentIndex) {

                    // Pick a remaining element...
                    randomIndex = Math.floor(Math.random() * currentIndex);
                    currentIndex -= 1;

                    // And swap it with the current element.
                    temporaryValue = array[currentIndex];
                    array[currentIndex] = array[randomIndex];
                    array[randomIndex] = temporaryValue;
                }

                return array;
            }

            var colorsArr = ['#F44336', '#FF80AB', '#9575CD', '#2196F3',
                '#03A9F4', '#00BCD4', '#009688', '#4CAF50', '#CDDC39', '#FFC107', '#FF9800', '#9E9E9E', '#607D8B'
            ];
            var zoneColor = d3.scale.ordinal().domain('North', 'East', 'West',
                'South').range(shuffle(colorsArr));
            var zones = ['North', 'South', 'East', 'West'];
            var table = new Table(zoneColor);
            table.headers(["zone", "Hub name"]);
            var columns = ['BRSNR', 'RESORT_EXPECTED', 'OUTBOUND_PENDING', "PROCESS_PENDING", "FCPH_EXPECTED"];


            var sortByName = function(a, b) {
                return d3.ascending(a.name, b.name);
            }


            var sortingCriteria = sortByName;


            var sortByColumn = function(column) {
                return function(a, b) {
                    var col = column;
                    var aColVal = d3.select("#h-" + a.id).select('.' + col).html();
                    var bColVal = d3.select("#h-" + b.id).select('.' + col).html();
                    if (aColVal === '') {
                        aColVal = 0;
                    }
                    if (bColVal === '') {
                        bColVal = 0;
                    }
                    aColVal = parseInt(aColVal);
                    bColVal = parseInt(bColVal);
                    return d3.descending(aColVal, bColVal);
                }
            }
            setInterval(function() {
                var data = [];
                var times = parseInt(Math.random() * 100);
                for (var i = 0; i <= times; i++) {
                    var o = parseInt(Math.random() * 2);
                    if (o == 1) {
                        var d = {
                            id: i,
                            zone: zones[parseInt(Math.random() * zones.length)],
                            name: "h" + i,
                            count: parseInt(Math.random() * 100000000)
                        }
                        data.push(d);
                    }
                }
                table.render(data, columns[parseInt(Math.random() * columns.length)], sortingCriteria);
            }, 10000);
        </script>

</body>

</html>